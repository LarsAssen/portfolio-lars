import Head from 'next/head'
import Hero from '@/components/molecules/hero/Hero'
import { getPosts } from '@/services/PostService'

const face = "https://images.unsplash.com/photo-1606646677098-46b8141f4da5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=464&q=80"
const image = 'https://images.unsplash.com/photo-1617396900799-f4ec2b43c7ae?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80'

export default function Home({posts} :any) {
  console.log(posts)
  return (
    <>
      <Head>
        <title>Portfolio Lars</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <Hero title='Hi there' backgroundImageUrl={image} imageUrl={face} text='Whats happening' buttonText='follow me' onClick={() => {}} />
        <ul>
          {posts?.data.map((post: any) => (
            <li key={post.id}>{post.attributes.Title}</li>
          ))}
        </ul>
      </main>
    </>
  )
}

export async function getStaticProps() {
  const posts = await getPosts();

  return {
    props: {
      posts: posts || null,
    },
  };
}